<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .div {
            visibility: hidden;
            height: 20px;
        }
    </style>
    <script>
        window.onload = function() {
            let link = document.querySelector(".link");
            let div = document.querySelector(".div");
            let btn = document.querySelector(".btn");

            if (link) {
                link.addEventListener("click", getVisible);

                function getVisible(e) {
                    if (div.style.visibility === "hidden") {
                        div.style.visibility = "visible";
                        e.preventDefault();
                        return false;
                    } else {
                        div.style.visibility = "hidden";
                        e.preventDefault();
                        return false;
                    }
                }
            }
            if (btn) {
                btn.addEventListener("click", removeLinkClick);

                function removeLinkClick() {
                    link.removeEventListener("click", getVisible);
                }
            }
        }

    </script>
</head>
<body>
<a class="link" href="#">
    Ссылка
    <div class="div">Lorem ipsum dolor sit amet.</div>
</a>
<button class="btn">Убрать обработчик</button>
</body>
</html>